"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
// testMongoConnection.ts
const mongodb_1 = require("mongodb");
const handler = async () => {
    const client = await (0, mongodb_1.getMongoClientWithIAMRole)();
    const testDB = client.db('test');
    const randomCollection = testDB.collection('random');
    const randomNumber = Math.random();
    await randomCollection.insertOne({ title: randomNumber });
    const result = await randomCollection.findOne({ title: randomNumber });
    return result;
};
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdE1vbmdvQ29ubmVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRlc3RNb25nb0Nvbm5lY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUJBQXlCO0FBQ3pCLHFDQUFtRDtBQUU1QyxNQUFNLE9BQU8sR0FBRyxLQUFLLElBQUksRUFBRTtJQUNoQyxNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUEsbUNBQXlCLEdBQUUsQ0FBQztJQUNqRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyRCxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbkMsTUFBTSxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQztJQUMxRCxNQUFNLE1BQU0sR0FBRyxNQUFNLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZFLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMsQ0FBQztBQVJXLFFBQUEsT0FBTyxXQVFsQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRlc3RNb25nb0Nvbm5lY3Rpb24udHNcclxuaW1wb3J0IHsgZ2V0TW9uZ29DbGllbnRXaXRoSUFNUm9sZSB9IGZyb20gJ21vbmdvZGInXHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBnZXRNb25nb0NsaWVudFdpdGhJQU1Sb2xlKCk7XHJcbiAgY29uc3QgdGVzdERCID0gY2xpZW50LmRiKCd0ZXN0Jyk7XHJcbiAgY29uc3QgcmFuZG9tQ29sbGVjdGlvbiA9IHRlc3REQi5jb2xsZWN0aW9uKCdyYW5kb20nKTtcclxuICBjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gIGF3YWl0IHJhbmRvbUNvbGxlY3Rpb24uaW5zZXJ0T25lKHsgdGl0bGU6IHJhbmRvbU51bWJlciB9KTtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByYW5kb21Db2xsZWN0aW9uLmZpbmRPbmUoeyB0aXRsZTogcmFuZG9tTnVtYmVyIH0pO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07Il19